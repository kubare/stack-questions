<div class="box">
  <div class="flex-box"></div>
  <div class="flex-box">
    <div class="box__buttons">
      <button mat-flat-button color="primary" (click)="openDialog()">
        Losuj pytanie
      </button>
    </div>
    <table
      mat-table
      [dataSource]="dataSource"
      multiTemplateDataRows
      class="mat-elevation-z8 ml-auto mr-auto container"
    >
      <ng-container
        matColumnDef="{{ column.value }}"
        *ngFor="let column of columnsToDisplay"
      >
        <th mat-header-cell *matHeaderCellDef>{{ column.label }}</th>
        <td mat-cell *matCellDef="let element">{{ element[column.value] }}</td>
      </ng-container>

      <ng-container matColumnDef="expandedDetail">
        <td
          mat-cell
          *matCellDef="let element"
          [attr.colspan]="columnsValues.length"
        >
          <div
            class="overflow-hidden"
            [@detailExpand]="
              element == expandedElement ? 'expanded' : 'collapsed'
            "
          >
            <div class="p-3">{{ element.answer }}</div>
            <ul *ngFor="let subPoint of element.subpoints">
              <li>{{ subPoint }}</li>
            </ul>
            <img
              *ngIf="element.image"
              class="box__image p-5"
              src="{{ element.image }}"
            />
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnsValues"></tr>
      <tr
        mat-row
        *matRowDef="let element; columns: columnsValues"
        class="example-element-row"
        [class.example-expanded-row]="expandedElement === element"
        (click)="expandedElement = expandedElement === element ? null : element"
      ></tr>

      <tr
        mat-row
        *matRowDef="let row; columns: ['expandedDetail']"
        class="example-detail-row"
      ></tr>
    </table>
  </div>
  <div class="flex-box"></div>
</div>
